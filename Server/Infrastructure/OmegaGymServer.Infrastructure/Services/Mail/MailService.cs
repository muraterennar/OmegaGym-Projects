using System.Net;
using System.Net.Mail;
using System.Text;
using Microsoft.Extensions.Configuration;
using OmegaGymServer.Application.Abstract.Mail;

namespace OmegaGymServer.Infrastructure.Services.Mail;

public class MailService : IMailService
{
    readonly IConfiguration _configuration;

    public MailService(IConfiguration configuration)
    {
        _configuration = configuration;
    }

    public async Task SendMessageAsync(string[] tos, string subject, string body, bool isBodyHtml = true)
    {
        var username = _configuration["Mail:Username"];
        var displayName = _configuration["Mail:DisplayName"];
        var password = _configuration["Mail:Password"];
        var Port = _configuration["Mail:Port"];
        var host = _configuration["Mail:Host"];

        MailMessage mail = new();
        mail.IsBodyHtml = isBodyHtml;
        mail.Subject = subject;
        mail.Body = body;
        foreach (var to in tos)
            mail.To.Add(to);
        mail.From = new(username, displayName);

        SmtpClient smtp = new();
        smtp.Credentials = new NetworkCredential(username, password);
        smtp.Port = int.Parse(Port);
        smtp.EnableSsl = true;
        smtp.Host = host;
        await smtp.SendMailAsync(mail);

    }

    public async Task SendMessageAsync(string to, string subject, string body, bool isBodyHtml = true)
    {
        await SendMessageAsync(new[] { to }, subject, body, isBodyHtml);
    }

    public async Task SendPasswordResetMailAsync(string to, string userId, string resetToken)
    {
        StringBuilder mail = new();
        //HTML HEAD
        mail.AppendLine("<!DOCTYPE html>\n<html lang=\"tr-TR\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"http://localhost:4200/assets/css/email.css\">\n    <!-- Bootsytap Css -->\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\"\n        integrity=\"sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM\" crossorigin=\"anonymous\">\n        <!-- REmix Icon -->\n        <link href=\"https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css\" rel=\"stylesheet\">\n    <title>Şifre Yenileme</title>\n</head>");
        //HTML BODY OPEN -----
        mail.AppendLine("<body class=\"bg-body-tertiary\">");

        //HTML HEADER OPEN -----
        mail.AppendLine("<header class=\"container mt-5 text-center\">\n<div class=\"row align-items-center bg-body-secondary p-3 border border-danger rounded-1\">\n            <div class=\"col-4\">\n<img class=\"h-auto w-75\" src=\"https://firebasestorage.googleapis.com/v0/b/file-upload-firebase-d3899.appspot.com/o/test%2Fomega_logo.png?alt=media&token=a226107b-3c8e-4033-8f3a-b3f46a57d997\" alt=\"omega\">\n</div>\n<div class=\"col-8\">\n<h1 class=\"fs-5 text-uppercase\">Şifre Yenileme</h1>\n</div>\n</div>\n</header>");
        //HTML HEADER CLOSE -----

        //HTML MAIN OPEN -----
        mail.AppendLine("<main id=\"main\"\n        class=\"container fw-light bg-body-secondary w-100 p-4 mt-5 rounded-2 h-auto flex-column justify-content-between align-items-center\">\n        <h1 class=\"text-capitalize fs-6 text-decoration-underline \">şifre yenileme talebiniz bize ulaştı</h1>\n        <p>\n            Merhaba, <span class=\"fw-bold text-danger\">[Ad Soyad]</span>\n        </p>\n        <p>\n            Bu maili Omega Gym hesabınıza ait olan bir şifre yenileme talebi üzerine gönderiyoruz. Hesabınıza yeni bir\n            şifre oluşturmanız gerekmektedir.\n        </p>\n        <p>Şifrenizi yenilemek için aşağıdaki adımları izleyebilirsiniz:</p>\n        <p>Aşağıdaki linke tıklayarak şifre yenileme sayfasına gidin:\n            <a href=\"");
        mail.AppendLine(_configuration["AngularClientServer"]);
        mail.AppendLine("/update-password");
        mail.AppendLine("/" + userId);
        mail.AppendLine("/" + resetToken);
        mail.AppendLine("\" class=\"text-danger fw-bold\">linke tıklayın...</a></p>\n        <p>\n            Lütfen güçlü bir şifre seçmeye dikkat edin ve şifrenizi kimseyle paylaşmamaya özen gösterin.\n            Şifrenizi yeniledikten sonra Omega Gym hesabınıza yeni şifrenizle giriş yapabilir ve tüm hizmetlerimizi\n            kullanabilirsiniz.\n        </p>\n        <p>Eğer şifre yenileme talebi sizin tarafınızdan yapılmadıysa veya bu maili yanlışlıkla aldıysanız lütfen bize\n            hemen bildirin. Güvenliğiniz bizim için önemlidir ve herhangi bir şüpheli etkinlik durumunda gereken\n            önlemleri alacağız.</p>\n        <p>\n            Sorularınız veya yardıma ihtiyacınız olduğunda bize ulaşmaktan çekinmeyin. Size yardımcı olmaktan mutluluk\n            duyarız.\n        </p>\n        <p>\n            Sağlıklı günler dileriz!\n        </p>\n        <p class=\"text-center text-secondary \">\n            &copy; Omega Gym. Tüm Hakları Saklıdır\n        </p>\n    </main>");
        //HTML MAIN CLOSE

        //HTML FOOTER OPEN
        mail.AppendLine("    <footer class=\"bg-danger p-4 h-auto mt-4 w-100 position-absolute bottom-0 start-0\">\n        <div class=\"d-flex flex-row justify-content-center align-items-center\">\n            <a href=\"https://youtube.com/@OMEGAGYM34\" class=\"btn footer-link border-0 link-light fs-3 z-1\"><i class=\"ri-youtube-line footer-link\"></i></a>\n            <a href=\"https://www.instagram.com/omegagym34/\" class=\"btn footer-link border-0 link-light fs-3\"><i class=\"ri-instagram-line footer-link\"></i></a>\n        </div>\n    </footer>");
        //HTML FOOTER CLOSE

        await SendMessageAsync(to, "Şifre Yenileme", mail.ToString());
    }

    public async Task SendTwoFactorAuthAsync(string to, string singleCode)
    {
        StringBuilder mail = new();

        mail.AppendLine("<!DOCTYPE html>\n<html lang=\"tr\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <!-- REmix Icon -->\n    <link href=\"https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css\" rel=\"stylesheet\">\n    <title>Kod Doğrulama</title>\n\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@100;200;300;400;500;600;700;800;900&display=swap');\n\n        * {\n            scroll-behavior: smooth;\n            box-sizing: border-box;\n            font-family: 'Kanit', sans-serif;\n        }\n\n        body {\n            background-color: #f1f1f1;\n        }\n\n        a {\n            text-decoration: none;\n            list-style: none;\n        }\n\n        .header-container {\n            display: block;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 50px;\n            border: 1px solid #EC1A23;\n            border-radius: 5px;\n            height: 100%;\n            text-align: center;\n            width: 80%;\n            padding: 2rem;\n            background-color: #ffff;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .header-img-container {\n            width: 10%;\n            height: auto;\n        }\n\n        .header-img {\n            height: auto;\n            width: 100%;\n        }\n\n        .header-title {\n            font-size: 22px;\n            font-weight: 500;\n        }\n\n        .main-container {\n            width: 80%;\n            height: 100%;\n            padding: 1rem;\n            background-color: #ffff;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 60px;\n\n            border-radius: 3px;\n        }\n\n        .main-container p span {\n            color: #EC1A23;\n            margin-left: 10px;\n            font-size: 20px;\n        }\n\n        .main-text a {\n            color: #282828;\n        }\n\n        .footer-container {\n            background-color: #EC1A23;\n            padding: 1rem;\n            width: 100%;\n            height: 100px;\n            margin-top: 50px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .footer-social-link {\n            padding: 2px;\n            gap: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        .footer-social-link a {\n            color: #ffff;\n            font-size: 30px;\n        }\n\n        .footer-text {\n            color: #ffff;\n        }\n\n        @media (max-width: 575.98px) {\n            .header-container {\n                width: 90% !important;\n            }\n\n            .header-img-container {\n                width: 32% !important;\n                height: auto;\n            }\n\n            .header-title {\n                font-size: 14px !important;\n                font-weight: 500;\n                margin-right: 0px !important;\n            }\n\n            .main-container {\n                width: 90%\n            }\n\n            .footer-container a {\n                font-size: 18px !important;\n            }\n\n            .footer-text {\n                font-size: 12px;\n            }\n        }\n    </style>\n</head>\n\n<body>\n\n    <header class=\"header-container\">\n        <div class=\"header-img-container\">\n            <img class=\"header-img\"\n                src=\"https://firebasestorage.googleapis.com/v0/b/file-upload-firebase-d3899.appspot.com/o/test%2Fomega_logo.png?alt=media&token=a226107b-3c8e-4033-8f3a-b3f46a57d997\"\n                alt=\"omega-gym-png\">\n        </div>\n        <div class=\"header-title-container\">\n            <h1 class=\"header-title\">Kod Doğrulama</h1>\n        </div>\n    </header>\n\n    <main class=\"main-container\">\n        <p class=\"main-text\">Merhaba,</p>\n        <p class=\"main-text\">\n            Size en iyi hizmeti sunabilmek ve hesabınızın güvenliğini sağlayabilmek adına, hesabınızın doğrulanması\n            gerekmektedir. Lütfen aşağıda yer alan doğrulama kodunu hesabınıza giriş yaparken kullanınız:\n        </p>\n        <p class=\"main-text\">Doğrulama Kodu: <span>");
        mail.AppendLine(singleCode);
        mail.AppendLine("</span> </p>\n        <p class=\"main-text\"> Bu kodu, hesabınıza giriş yaparken veya belirli işlemleri tamamlarken istenebilecek olan\n            doğrulama\n            aşamasında kullanmanız gerekmektedir. Herhangi bir güvenlik endişesi durumunda, lütfen derhal bize bildirin.\n        </p>\n        <p class=\"main-text\">\n            Eğer bu kodu siz talep etmediyseniz veya hesabınızla ilgili herhangi bir şüphe duyuyorsanız, derhal müşteri\n            hizmetlerimizle iletişime geçmenizi rica ederiz.\n        </p>\n        <p class=\"main-text\">Saygılarımızla.</p>\n        <p class=\"main-text\">Mail: <a href=\"mailto:34omegagym@gmail.com\">34omegagym@gmail.com</a></p>\n        <p class=\"main-text\">Tel: 0505 875 78 53</p>\n    </main>\n\n    <footer class=\"footer-container\">\n        <div class=\"footer-social-link\">\n            <a href=\"https://youtube.com/@OMEGAGYM34\"><i class=\"ri-youtube-line footer-link\"></i></a>\n            <a href=\"https://www.instagram.com/omegagym34/\"><i class=\"ri-instagram-line footer-link\"></i></a>\n        </div>\n\n        <p class=\"footer-text\">\n            &copy; Omega Gym. Tüm Hakları Saklıdır\n        </p>\n    </footer>\n</body>\n\n</html>");

        await SendMessageAsync(to, "Hesap Doğrulama Kodu", mail.ToString());
    }

    public async Task SendTemporaryPasswordAsync(string to, string temporaryPassword)
    {
        StringBuilder mail = new();

        mail.AppendLine("<!DOCTYPE html>\n<html lang=\"tr\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <!-- REmix Icon -->\n    <link href=\"https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css\" rel=\"stylesheet\">\n    <title>Kod Doğrulama</title>\n\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@100;200;300;400;500;600;700;800;900&display=swap');\n\n        * {\n            scroll-behavior: smooth;\n            box-sizing: border-box;\n            font-family: 'Kanit', sans-serif;\n        }\n\n        body {\n            background-color: #f1f1f1;\n        }\n\n        a {\n            text-decoration: none;\n            list-style: none;\n        }\n\n        .header-container {\n            display: block;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 50px;\n            border: 1px solid #EC1A23;\n            border-radius: 5px;\n            height: 100%;\n            text-align: center;\n            width: 80%;\n            padding: 2rem;\n            background-color: #ffff;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .header-img-container {\n            width: 10%;\n            height: auto;\n        }\n\n        .header-img {\n            height: auto;\n            width: 100%;\n        }\n\n        .header-title {\n            font-size: 22px;\n            font-weight: 500;\n        }\n\n        .main-container {\n            width: 80%;\n            height: 100%;\n            padding: 1rem;\n            background-color: #ffff;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 60px;\n\n            border-radius: 3px;\n        }\n\n        .main-container p span {\n            color: #EC1A23;\n            margin-left: 10px;\n            font-size: 20px;\n        }\n\n        .main-text a {\n            color: #282828;\n        }\n\n        .footer-container {\n            background-color: #EC1A23;\n            padding: 1rem;\n            width: 100%;\n            height: 100px;\n            margin-top: 50px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .footer-social-link {\n            padding: 2px;\n            gap: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        .footer-social-link a {\n            color: #ffff;\n            font-size: 30px;\n        }\n\n        .footer-text {\n            color: #ffff;\n        }\n\n        @media (max-width: 575.98px) {\n            .header-container {\n                width: 90% !important;\n            }\n\n            .header-img-container {\n                width: 32% !important;\n                height: auto;\n            }\n\n            .header-title {\n                font-size: 14px !important;\n                font-weight: 500;\n                margin-right: 0px !important;\n            }\n\n            .main-container {\n                width: 90%\n            }\n\n            .footer-container a {\n                font-size: 18px !important;\n            }\n\n            .footer-text {\n                font-size: 12px;\n            }\n        }\n    </style>\n</head>\n\n<body>\n\n    <header class=\"header-container\">\n        <div class=\"header-img-container\">\n            <img class=\"header-img\"\n                src=\"https://firebasestorage.googleapis.com/v0/b/file-upload-firebase-d3899.appspot.com/o/test%2Fomega_logo.png?alt=media&token=a226107b-3c8e-4033-8f3a-b3f46a57d997\"\n                alt=\"omega-gym-png\">\n        </div>\n    </header>\n\n    <main class=\"main-container\">\n        <h1 class=\"header-title\">Geçici Şifre</h1>\n        <p class=\"main-text\">Merhaba,</p>\n        <p class=\"main-text\">\n            Omega Gym ailesine hoş geldiniz! Size, sistemimize başarılı bir şekilde eklediğimiz yeni kullanıcı hesabınızın\n            ayrıntılarını iletmekten mutluluk duyuyoruz. Artık Omega Gym platformuna erişim sağlayabilirsiniz.\n        </p>\n        <p class=\"main-text\">Geçici Şifreniz: <span>");
        mail.AppendLine(temporaryPassword);
        mail.AppendLine("</span> </p>\n        <p class=\"main-text\"> Bu şifre ile hesabınıza giriş yapabilirsiniz. Şifreyi Değiştirmeyi Unutmayınız.\n        </p>\n        <p>Karşılaştığınız herhangi bir sorunda aşağıdaki iletişim bilgileri üzerinden irtibata geçebilirsiniz.</p>\n        <p class=\"main-text\">Saygılarımızla.</p>\n        <p class=\"main-text\">Mail: <a href=\"mailto:34omegagym@gmail.com\">34omegagym@gmail.com</a></p>\n        <p class=\"main-text\">Tel: 0505 875 78 53</p>\n    </main>\n\n    <footer class=\"footer-container\">\n        <div class=\"footer-social-link\">\n            <a href=\"https://youtube.com/@OMEGAGYM34\"><i class=\"ri-youtube-line footer-link\"></i></a>\n            <a href=\"https://www.instagram.com/omegagym34/\"><i class=\"ri-instagram-line footer-link\"></i></a>\n        </div>\n\n        <p class=\"footer-text\">\n            &copy; Omega Gym. Tüm Hakları Saklıdır\n        </p>\n    </footer>\n</body>\n\n</html>");

        await SendMessageAsync(to, "Geçici Şifre Bildirimi", mail.ToString());
    }

    public async Task FranchisingMailAsync(string to, string firstName, string lastName)
    {
        StringBuilder mail = new();

        mail.AppendLine("<!DOCTYPE html>\n<html lang=\"tr\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <!-- REmix Icon -->\n    <link href=\"https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css\" rel=\"stylesheet\">\n    <title>Kod Doğrulama</title>\n\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@100;200;300;400;500;600;700;800;900&display=swap');\n\n        * {\n            scroll-behavior: smooth;\n            box-sizing: border-box;\n            font-family: 'Kanit', sans-serif;\n        }\n\n        body {\n            background-color: #f1f1f1;\n        }\n\n        a {\n            text-decoration: none;\n            list-style: none;\n        }\n\n        .header-container {\n            display: block;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 50px;\n            border: 1px solid #EC1A23;\n            border-radius: 5px;\n            height: 100%;\n            text-align: center;\n            width: 80%;\n            padding: 2rem;\n            background-color: #ffff;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .header-img-container {\n            width: 10%;\n            height: auto;\n        }\n\n        .header-img {\n            height: auto;\n            width: 100%;\n        }\n\n        .header-title {\n            font-size: 22px;\n            font-weight: 500;\n        }\n\n        .main-container {\n            width: 80%;\n            height: 100%;\n            padding: 1rem;\n            background-color: #ffff;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 60px;\n\n            border-radius: 3px;\n        }\n\n        .main-container p span {\n            color: #EC1A23;\n            margin-left: 10px;\n            font-size: 20px;\n        }\n\n        .main-text a {\n            color: #282828;\n        }\n\n        .omega-contact{\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n            gap: 10px;\n            color: #EC1A23;\n        }\n\n        .omega-contact a{\n            color: #282828;\n            font-weight: 500;\n            font-size: 14px;\n        }\n\n        .omega-gym{\n            color: #EC1A23;\n            font-size: 16px !important;\n        }\n\n        .footer-container {\n            background-color: #EC1A23;\n            padding: 1rem;\n            width: 100%;\n            height: 100px;\n            margin-top: 50px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .footer-social-link {\n            padding: 2px;\n            gap: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        .footer-social-link a {\n            color: #ffff;\n            font-size: 30px;\n        }\n\n        .footer-text {\n            color: #ffff;\n        }\n\n        @media (max-width: 575.98px) {\n            .header-container {\n                width: 90% !important;\n            }\n\n            .header-img-container {\n                width: 32% !important;\n                height: auto;\n            }\n\n            .header-title {\n                font-size: 14px !important;\n                font-weight: 500;\n                margin-right: 0px !important;\n            }\n\n            .main-container {\n                width: 90%\n            }\n\n            .footer-container a {\n                font-size: 18px !important;\n            }\n\n            .footer-text {\n                font-size: 12px;\n            }\n        }\n    </style>\n</head>\n\n<body>\n\n    <header class=\"header-container\">\n        <div class=\"header-img-container\">\n            <img class=\"header-img\"\n                src=\"https://firebasestorage.googleapis.com/v0/b/file-upload-firebase-d3899.appspot.com/o/test%2Fomega_logo.png?alt=media&token=a226107b-3c8e-4033-8f3a-b3f46a57d997\"\n                alt=\"omega-gym-png\">\n        </div>\n    </header>\n\n    <main class=\"main-container\">\n        <h1 class=\"header-title\">Franchise Başvurusu</h1>\n\n        <p>\n            Sayın");
        mail.AppendLine(firstName + " " + lastName);
        mail.AppendLine(",\n        </p>\n        <p> Öncelikle Omega Gym Franchising ailesine katılmak için gösterdiğiniz ilgi için teşekkür ederiz!\n            Başvurunuz başarıyla tarafımıza ulaştı ve işbirliğimizin ilk adımını oluşturuyor.</p>\n        <p>Omega Gym, 2022 yılından bu yana [sektör/ad] sektöründe öncü bir marka olarak\n            faaliyet göstermektedir. Müşterilerimize sunduğumuz üstün ürün ve hizmet kalitesi sayesinde, büyümeye ve\n            başarılı bir işletme modeline sahip olmayı başardık. Franchise sistemiyle daha da genişleyerek, müşteri\n            deneyimini daha fazla kişiyle buluşturmayı hedefliyoruz.</p>\n        <p> Başvurunuzu en kısa sürede inceliyeceğiz ve uygun adaylar arasından seçim yapacağız. Süreçle ilgili olarak\n            sizinle iletişime geçeceğiz. Başvurunuzdaki bilgilerin gizli ve güvende olduğundan emin olabilirsiniz.</p>\n        <p> Franchising fırsatlarımız ve işbirliği sürecimiz hakkında daha detaylı bilgi almak için bir görüşme\n            ayarlamak ister misiniz? Sizden işletmeniz ve hedefleriniz hakkında daha fazla bilgi edinmek ve size nasıl\n            yardımcı olabileceğimizi anlatmak için sabırsızlanıyoruz.</p>\n        <p> Herhangi bir sorunuz olursa, lütfen çekinmeden bize ulaşın. İletişim bilgilerim aşağıda yer almaktadır.</p>\n        <p> Tekrar gösterdiğiniz ilgi için teşekkür eder, başvurunuzun olumlu sonuçlanmasını dileriz.</p>\n        <p> Saygılarımızla,</p>\n\n        <hr>\n\n        <div class=\"omega-contact\">\n            <a href=\"http://omega-gym.com\" target=\"_blank\" rel=\"noopener noreferrer\">Omega Gym</a>\n            <a href=\"mailto:");
        mail.AppendLine(_configuration["OmegaGymInformation:email"]);
        mail.AppendLine("\">Mail : ");
        mail.AppendLine(_configuration["OmegaGymInformation:email"]);
        mail.AppendLine("</a>\n            <a>Telefon : 0 505 875 78 53</a>\n        </div>\n    </main>\n\n    <footer class=\"footer-container\">\n        <div class=\"footer-social-link\">\n            <a href=\"https://youtube.com/@OMEGAGYM34\"><i class=\"ri-youtube-line footer-link\"></i></a>\n            <a href=\"https://www.instagram.com/omegagym34/\"><i class=\"ri-instagram-line footer-link\"></i></a>\n        </div>\n\n        <p class=\"footer-text\">\n            &copy; Omega Gym. Tüm Hakları Saklıdır\n        </p>\n    </footer>\n</body>\n\n</html>");

        await SendMessageAsync(to, "Frinche Başvurusu Hakkında", mail.ToString());
    }

    public async Task FranchisingMailToAdminAsync(string to, string firstName, string lastName, string email, string phone)
    {
        StringBuilder mail = new();
        mail.AppendLine("<!DOCTYPE html>\n<html lang=\"tr\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <!-- REmix Icon -->\n    <link href=\"https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css\" rel=\"stylesheet\">\n    <title>Kod Doğrulama</title>\n\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@100;200;300;400;500;600;700;800;900&display=swap');\n\n        * {\n            scroll-behavior: smooth;\n            box-sizing: border-box;\n            font-family: 'Kanit', sans-serif;\n        }\n\n        body {\n            background-color: #f1f1f1;\n        }\n\n        a {\n            text-decoration: none;\n            list-style: none;\n        }\n\n        .header-container {\n            display: block;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 50px;\n            border: 1px solid #EC1A23;\n            border-radius: 5px;\n            height: 100%;\n            text-align: center;\n            width: 80%;\n            padding: 2rem;\n            background-color: #ffff;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .header-img-container {\n            width: 10%;\n            height: auto;\n        }\n\n        .header-img {\n            height: auto;\n            width: 100%;\n        }\n\n        .header-title {\n            font-size: 22px;\n            font-weight: 500;\n        }\n\n        .main-container {\n            width: 80%;\n            height: 100%;\n            padding: 1rem;\n            background-color: #ffff;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 60px;\n\n            border-radius: 3px;\n        }\n\n        .main-container p span {\n            color: #EC1A23;\n            margin-left: 10px;\n            font-size: 20px;\n        }\n\n        .main-text a {\n            color: #282828;\n        }\n\n        .omega-contact {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n            gap: 10px;\n            color: #EC1A23;\n        }\n\n        .omega-contact a {\n            color: #282828;\n            font-weight: 500;\n            font-size: 14px;\n        }\n\n        .omega-gym {\n            color: #EC1A23;\n            font-size: 16px !important;\n        }\n\n        .footer-container {\n            background-color: #EC1A23;\n            padding: 1rem;\n            width: 100%;\n            height: 100px;\n            margin-top: 50px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .footer-social-link {\n            padding: 2px;\n            gap: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        .footer-social-link a {\n            color: #ffff;\n            font-size: 30px;\n        }\n\n        .footer-text {\n            color: #ffff;\n        }\n\n        @media (max-width: 575.98px) {\n            .header-container {\n                width: 90% !important;\n            }\n\n            .header-img-container {\n                width: 32% !important;\n                height: auto;\n            }\n\n            .header-title {\n                font-size: 14px !important;\n                font-weight: 500;\n                margin-right: 0px !important;\n            }\n\n            .main-container {\n                width: 90%\n            }\n\n            .footer-container a {\n                font-size: 18px !important;\n            }\n\n            .footer-text {\n                font-size: 12px;\n            }\n        }\n    </style>\n</head>\n\n<body>\n\n    <header class=\"header-container\">\n        <div class=\"header-img-container\">\n            <img class=\"header-img\"\n                src=\"https://firebasestorage.googleapis.com/v0/b/file-upload-firebase-d3899.appspot.com/o/test%2Fomega_logo.png?alt=media&token=a226107b-3c8e-4033-8f3a-b3f46a57d997\"\n                alt=\"omega-gym-png\">\n        </div>\n    </header>\n\n    <main class=\"main-container\">\n        <h1 class=\"header-title\">Franchise Başvurusu Talebi</h1>\n\n        <p>\n            Sayın Yönetici,\n        </p>\n        <p> Franchise talebi oluşturulmuştur. Aşağıdaki bilgilerden kişiyle irtibat kurabilirsiniz.</p>\n        <p class=\"user-info\">\n            <p>Ad Soyad : <span>");
        mail.AppendLine(firstName + " " + lastName);
        mail.AppendLine("</span></p>\n            <p>Mail : <span>");
        mail.AppendLine(email);
        mail.AppendLine("</span></p>\n            <p>Telefon: <span>");
        mail.AppendLine(phone);
        mail.AppendLine("</span></p>\n        </p>\n        <p> Saygılarımızla,</p>\n\n        <hr>\n\n    </main>\n\n    <footer class=\"footer-container\">\n        <p class=\"footer-text\">\n            &copy; Omega Gym. Tüm Hakları Saklıdır\n        </p>\n    </footer>\n</body>\n\n</html>");

        await SendMessageAsync(to, "Frinche Başvurusu Talebi Oluşturuldu", mail.ToString());
    }
}

